/* v2.1 - Smaller layout + dark-mode keyboard letters white */
:root {
  --bg:#0b0c0f; --card:#12141a; --text:#e9eef4; --muted:#9aa6b2;
  --tile:#1a1f29; --tile-border:#2a3140; --key:#1c2230; --key-border:#2b3344;
  --accent:#7c9aff; --ok:#58b368; --warn:#c8b458; --miss:#787c7e;
  --shadow:0 8px 24px rgba(0,0,0,.35);
}
.theme-light, .theme-light :root {
  --bg:#f6f8fb; --card:#fff; --text:#0e1521; --muted:#5c6977; --tile:#f0f3f8;
  --tile-border:#dfe6ef; --key:#e9eef5; --key-border:#d6dee9; --accent:#3b6cff;
  --ok:#2ab673; --warn:#c79a2a; --miss:#98a2ad; --shadow:0 10px 30px rgba(10,30,60,.08);
}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  background:radial-gradient(1200px 800px at 50% -200px, rgba(124,154,255,.25), transparent 60%), var(--bg);
  color:var(--text);
}

/* App sizing tightened */
.app{max-width:760px;margin:0 auto;padding:16px 12px 24px}
.app-header{display:flex;align-items:center;justify-content:space-between;gap:10px;position:sticky;top:0;z-index:2;padding-bottom:8px;background:linear-gradient(to bottom, rgba(0,0,0,.06), transparent)}
.title{display:flex;align-items:center;gap:8px;margin:0;font-size:24px;font-weight:800;letter-spacing:.4px}
.pill{display:inline-block;font-size:12px;font-weight:700;padding:3px 7px;border-radius:999px;background:var(--accent);color:#fff}
.controls{display:flex;align-items:center;gap:8px}

/* Buttons */
.btn{height:36px;min-width:36px;border:1px solid var(--tile-border);background:var(--card);border-radius:10px;box-shadow:var(--shadow);color:var(--text);font-weight:600;padding:0 10px;cursor:pointer}
.btn.ghost{background:transparent}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
#theme-toggle .icon{display:none}
.theme-light #theme-toggle .sun{display:inline}
.theme-light #theme-toggle .moon{display:none}
.theme-dark  #theme-toggle .sun{display:none}
.theme-dark  #theme-toggle .moon{display:inline}

/* Stage */
.stage{display:grid;grid-template-rows:1fr auto;gap:16px}
.board-wrap{display:grid;place-items:center}
.board{
  display:grid;
  grid-template-rows:repeat(var(--rows,6),1fr);
  grid-template-columns:repeat(var(--cols,5),1fr);
  gap:6px;padding:12px;
  width:min(92vw,420px);            /* smaller overall board */
  aspect-ratio:var(--cols,5)/var(--rows,6);
  border-radius:14px;background:var(--card);border:1px solid var(--tile-border);box-shadow:var(--shadow);
}
.tile{
  display:grid;place-items:center;
  font-weight:800;font-size:clamp(16px,4.2vw,22px); /* slightly smaller text */
  text-transform:uppercase;
  border:2px solid var(--tile-border);background:var(--tile);border-radius:9px;
  transition:transform .12s ease,background .12s ease,border-color .12s ease;
}
.tile.filled{border-color:var(--accent)}
.tile.shake{animation:shake .4s ease both}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
.tile.correct{background:var(--ok);color:#fff;border-color:var(--ok)}
.tile.present{background:var(--warn);color:#fff;border-color:var(--warn)}
.tile.absent{background:var(--miss);color:#fff;border-color:var(--miss)}

/* Keyboard: tighter keys + spacing */
.keyboard{display:grid;gap:6px}
.k-row{display:grid;grid-auto-flow:column;gap:6px;justify-content:center}
.key{
  min-width:30px;height:40px;padding:0 8px;
  display:grid;place-items:center;
  background:var(--key);border:1px solid var(--key-border);border-radius:9px;
  font-weight:700;text-transform:uppercase;user-select:none;cursor:pointer;
}
.key.wide{min-width:60px}
/* Status coloring preserved */
.key.correct{background:var(--ok);color:#fff;border-color:var(--ok)}
.key.present{background:var(--warn);color:#fff;border-color:var(--warn)}
.key.absent{background:var(--miss);color:#fff;border-color:var(--miss)}

/* Dark mode: keyboard letters white (only the keyboard text) */
.theme-dark .key{ color:#fff; }  /* does not affect other UI text */

/* Extra-small screens */
@media (max-width:480px){
  .app{padding:12px 8px 20px}
  .board{width:min(94vw,360px);gap:5px;padding:10px;border-radius:12px}
  .tile{font-size:clamp(14px,5vw,20px);border-radius:8px}
  .key{min-width:28px;height:38px;padding:0 6px;border-radius:8px}
  .key.wide{min-width:56px}
}
